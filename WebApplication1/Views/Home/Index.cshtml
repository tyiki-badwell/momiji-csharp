@{
    ViewData["Title"] = "Home Page";
}

<iframe allowfullscreen="true" src="https://mixer.com/embed/player/tyiki?disableLowLatency=0" width="620" height="349"> </iframe>

<br />
<input type="button" value="ON" data-short-message1="0x90" data-short-message2="0x40" data-short-message3="0x40" />
<input type="button" value="OFF" data-short-message1="0x80" data-short-message2="0x40" data-short-message3="0x40" />
<br />
<input type="button" value="ON" data-short-message1="0x90" data-short-message2="0x41" data-short-message3="0x40" />
<input type="button" value="OFF" data-short-message1="0x80" data-short-message2="0x41" data-short-message3="0x40" />
<br />
<input type="button" value="ON" data-short-message1="0x90" data-short-message2="0x42" data-short-message3="0x40" />
<input type="button" value="OFF" data-short-message1="0x80" data-short-message2="0x42" data-short-message3="0x40" />
<br />
<input type="button" value="ON" data-short-message1="0x90" data-short-message2="0x43" data-short-message3="0x40" />
<input type="button" value="OFF" data-short-message1="0x80" data-short-message2="0x43" data-short-message3="0x40" />
<br />
<input type="button" value="ON" data-short-message1="0x90" data-short-message2="0x44" data-short-message3="0x40" />
<input type="button" value="OFF" data-short-message1="0x80" data-short-message2="0x44" data-short-message3="0x40" />
<br />
<input type="button" value="ON" data-short-message1="0x90" data-short-message2="0x45" data-short-message3="0x40" />
<input type="button" value="OFF" data-short-message1="0x80" data-short-message2="0x45" data-short-message3="0x40" />
<br />
<input type="button" value="ON" data-short-message1="0x90" data-short-message2="0x46" data-short-message3="0x40" />
<input type="button" value="OFF" data-short-message1="0x80" data-short-message2="0x46" data-short-message3="0x40" />
<br />
<input type="button" value="ON" data-short-message1="0x90" data-short-message2="0x47" data-short-message3="0x40" />
<input type="button" value="OFF" data-short-message1="0x80" data-short-message2="0x47" data-short-message3="0x40" />
<br />
<input type="button" value="ON" data-short-message1="0x90" data-short-message2="0x48" data-short-message3="0x40" />
<input type="button" value="OFF" data-short-message1="0x80" data-short-message2="0x48" data-short-message3="0x40" />
<br />
<input type="button" value="ON" data-short-message1="0x90" data-short-message2="0x49" data-short-message3="0x40" />
<input type="button" value="OFF" data-short-message1="0x80" data-short-message2="0x49" data-short-message3="0x40" />
<br />
<input type="button" value="ON" data-short-message1="0x90" data-short-message2="0x4A" data-short-message3="0x40" />
<input type="button" value="OFF" data-short-message1="0x80" data-short-message2="0x4A" data-short-message3="0x40" />
<br />
<input type="button" value="ON" data-short-message1="0x90" data-short-message2="0x4B" data-short-message3="0x40" />
<input type="button" value="OFF" data-short-message1="0x80" data-short-message2="0x4B" data-short-message3="0x40" />
<br />
<input type="button" value="ON" data-short-message1="0x90" data-short-message2="0x4C" data-short-message3="0x40" />
<input type="button" value="OFF" data-short-message1="0x80" data-short-message2="0x4C" data-short-message3="0x40" />
<br />


@section Scripts {
    <script type="text/javascript">
        "use strict";

        var pool = [];

        window.setInterval(function () {
            if (pool.length > 0) {
                var temp = pool;
                pool = [];

                fetch('Home/Note', {
                    method: 'POST',
                    headers: {
                        "Content-Type": "application/json; charset=utf-8"
                    },
                    body: JSON.stringify(temp)
                });
            }
        }, 1);

        window.onload = function () {
            document.querySelectorAll('input').forEach(function (i) {
                i.onclick = function () {
                    pool.push(
                        {
                            "receivedTime": window.performance.timing.navigationStart + window.performance.now(),
                            "data": [
                                Number(this.dataset.shortMessage1),
                                Number(this.dataset.shortMessage2),
                                Number(this.dataset.shortMessage3)
                            ]
                        }
                    );
                }
            });
        };
    </script>
}
